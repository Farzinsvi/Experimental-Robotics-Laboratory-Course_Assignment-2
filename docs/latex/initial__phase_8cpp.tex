\hypertarget{initial__phase_8cpp}{}\doxysection{/root/ros\+\_\+ws/src/erl\+\_\+assignment2/my\+\_\+erl2/src/initial\+\_\+phase.cpp File Reference}
\label{initial__phase_8cpp}\index{/root/ros\_ws/src/erl\_assignment2/my\_erl2/src/initial\_phase.cpp@{/root/ros\_ws/src/erl\_assignment2/my\_erl2/src/initial\_phase.cpp}}


Node to implement the initial phase service.  


{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$rosplan\+\_\+action\+\_\+interface/\+R\+P\+Action\+Interface.\+h$>$}\newline
{\ttfamily \#include \char`\"{}my\+\_\+erl2/grippermotion.\+h\char`\"{}}\newline
{\ttfamily \#include $<$actionlib/client/simple\+\_\+action\+\_\+client.\+h$>$}\newline
{\ttfamily \#include $<$actionlib/client/terminal\+\_\+state.\+h$>$}\newline
{\ttfamily \#include $<$motion\+\_\+plan/\+Planning\+Action.\+h$>$}\newline
{\ttfamily \#include $<$moveit/move\+\_\+group\+\_\+interface/move\+\_\+group\+\_\+interface.\+h$>$}\newline
{\ttfamily \#include $<$moveit/robot\+\_\+model\+\_\+loader/robot\+\_\+model\+\_\+loader.\+h$>$}\newline
{\ttfamily \#include $<$moveit/robot\+\_\+model/robot\+\_\+model.\+h$>$}\newline
{\ttfamily \#include $<$moveit/robot\+\_\+state/robot\+\_\+state.\+h$>$}\newline
{\ttfamily \#include \char`\"{}geometry\+\_\+msgs/\+Pose.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}my\+\_\+erl2/\+Erl\+Oracle.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}std\+\_\+srvs/\+Trigger.\+h\char`\"{}}\newline
Include dependency graph for initial\+\_\+phase.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{initial__phase_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacemy__erl2}{my\+\_\+erl2}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{initial__phase_8cpp_a80a385a8310b45b48f667fd7d1bb5450}{Callback}} (const my\+\_\+erl2\+::\+Erl\+Oracle\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em This function is the callback of /oracle\+\_\+hint subscribers. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{initial__phase_8cpp_a86b19550c670fd5586b02bf7f759c8df}{move}} (double x, double y, double t)
\begin{DoxyCompactList}\small\item\em move function \end{DoxyCompactList}\item 
void \mbox{\hyperlink{initial__phase_8cpp_a9d9aef98a8dad5c897a9c84c3e4ad3fb}{move\+\_\+gripper}} (double x, double y, bool start)
\begin{DoxyCompactList}\small\item\em move\+\_\+gripper function \end{DoxyCompactList}\item 
void \mbox{\hyperlink{initial__phase_8cpp_a270932dff1ab343bb350f7c6e02d7a43}{fsm}} ()
\begin{DoxyCompactList}\small\item\em fsm function \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{initial__phase_8cpp_a8fe82b3cc5068dbd212212b9d6098946}{srv\+\_\+clbk}} (std\+\_\+srvs\+::\+Trigger\+::\+Request \&req, std\+\_\+srvs\+::\+Trigger\+::\+Response \&res)
\item 
int \mbox{\hyperlink{initial__phase_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{initial__phase_8cpp_a89f234133d3efe315836311cbf21c64b}{state}} =0
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_a9324389a5cdc532c6417a87ccafe18ce}{finished}} =false
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_accdb2d42dce7c47aca0df1d5b3e147ec}{moved}} =false
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_a1d1c0318c0f74e0cb4bb62f0af54d556}{gripper}} =false
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_a4141639934129ed38d88145463442b56}{first\+\_\+turn\+\_\+ended}} =false
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_a493c4c90ce31e7171c3dd7dd4c63577e}{new\+\_\+msg}} =false
\item 
int \mbox{\hyperlink{initial__phase_8cpp_aa4db2a36d8a0dcd459811e0592015e85}{up}} \mbox{[}4\mbox{]} =\{0,0,0,0\}
\item 
int \mbox{\hyperlink{initial__phase_8cpp_ae630977468f8065578647b36b8facfbb}{down}} \mbox{[}4\mbox{]} =\{0,0,0,0\}
\item 
bool \mbox{\hyperlink{initial__phase_8cpp_acfe67bf20b858132be2baed07869a7c8}{activate}} =false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Node to implement the initial phase service. 

\begin{DoxyAuthor}{Author}
Alice Nardelli 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
07/01/2022
\end{DoxyDate}
Subscribes to\+: ~\newline
 /oracle\+\_\+hint

Publishes to\+: ~\newline
 None

Client\+: ~\newline
 /moveit\+\_\+interface

Services\+: ~\newline
 /init\+\_\+service

Action Client\+: /reaching\+\_\+goal

Description\+: ~\newline


This is a service node used to implement the initial behavior of the robot. It goes in each location in order to find the correct z coordinate in order to generate hint as the fact that at each simulation it is randomly generated between 0.\+75 and 1.\+25 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{initial__phase_8cpp_a80a385a8310b45b48f667fd7d1bb5450}\label{initial__phase_8cpp_a80a385a8310b45b48f667fd7d1bb5450}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!Callback@{Callback}}
\index{Callback@{Callback}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{Callback()}{Callback()}}
{\footnotesize\ttfamily void Callback (\begin{DoxyParamCaption}\item[{const my\+\_\+erl2\+::\+Erl\+Oracle\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



This function is the callback of /oracle\+\_\+hint subscribers. 


\begin{DoxyParams}{Parameters}
{\em msg} & the Erl\+Oracle msg published\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & If a new hint is generated the new\+\_\+msg global variable is set to true \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{initial__phase_8cpp_a270932dff1ab343bb350f7c6e02d7a43}\label{initial__phase_8cpp_a270932dff1ab343bb350f7c6e02d7a43}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!fsm@{fsm}}
\index{fsm@{fsm}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{fsm()}{fsm()}}
{\footnotesize\ttfamily void fsm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



fsm function 


\begin{DoxyParams}{Parameters}
{\em None} & \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & This is the finite state machine of the init phase. For each state firstly the desired waypoint is reached then the gripper moved. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{initial__phase_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{initial__phase_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!main@{main}}
\index{main@{main}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

\mbox{\Hypertarget{initial__phase_8cpp_a86b19550c670fd5586b02bf7f759c8df}\label{initial__phase_8cpp_a86b19550c670fd5586b02bf7f759c8df}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!move@{move}}
\index{move@{move}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{move()}{move()}}
{\footnotesize\ttfamily void move (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y,  }\item[{double}]{t }\end{DoxyParamCaption})}



move function 


\begin{DoxyParams}{Parameters}
{\em x} & the desired x-\/coordinate \\
\hline
{\em y} & the desired y-\/coordinate \\
\hline
{\em t} & the desired yaw\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & this function call the /reaching\+\_\+goal function in order make robot reach a certain position in the environment. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{initial__phase_8cpp_a9d9aef98a8dad5c897a9c84c3e4ad3fb}\label{initial__phase_8cpp_a9d9aef98a8dad5c897a9c84c3e4ad3fb}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!move\_gripper@{move\_gripper}}
\index{move\_gripper@{move\_gripper}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{move\_gripper()}{move\_gripper()}}
{\footnotesize\ttfamily void move\+\_\+gripper (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y,  }\item[{bool}]{start }\end{DoxyParamCaption})}



move\+\_\+gripper function 


\begin{DoxyParams}{Parameters}
{\em x} & the desired x-\/coordinate of the end-\/effector \\
\hline
{\em y} & the desired y-\/coordinate of the end-\/effector \\
\hline
{\em start} & boolean\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & In this function The moveit ad-\/hoc generated package is used in order to reach a certain point in the environment. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{initial__phase_8cpp_a8fe82b3cc5068dbd212212b9d6098946}\label{initial__phase_8cpp_a8fe82b3cc5068dbd212212b9d6098946}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!srv\_clbk@{srv\_clbk}}
\index{srv\_clbk@{srv\_clbk}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{srv\_clbk()}{srv\_clbk()}}
{\footnotesize\ttfamily bool srv\+\_\+clbk (\begin{DoxyParamCaption}\item[{std\+\_\+srvs\+::\+Trigger\+::\+Request \&}]{req,  }\item[{std\+\_\+srvs\+::\+Trigger\+::\+Response \&}]{res }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{initial__phase_8cpp_acfe67bf20b858132be2baed07869a7c8}\label{initial__phase_8cpp_acfe67bf20b858132be2baed07869a7c8}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!activate@{activate}}
\index{activate@{activate}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{activate}{activate}}
{\footnotesize\ttfamily bool activate =false}

\mbox{\Hypertarget{initial__phase_8cpp_ae630977468f8065578647b36b8facfbb}\label{initial__phase_8cpp_ae630977468f8065578647b36b8facfbb}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!down@{down}}
\index{down@{down}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{down}{down}}
{\footnotesize\ttfamily int down\mbox{[}4\mbox{]} =\{0,0,0,0\}}

\mbox{\Hypertarget{initial__phase_8cpp_a9324389a5cdc532c6417a87ccafe18ce}\label{initial__phase_8cpp_a9324389a5cdc532c6417a87ccafe18ce}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!finished@{finished}}
\index{finished@{finished}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{finished}{finished}}
{\footnotesize\ttfamily bool finished =false}

\mbox{\Hypertarget{initial__phase_8cpp_a4141639934129ed38d88145463442b56}\label{initial__phase_8cpp_a4141639934129ed38d88145463442b56}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!first\_turn\_ended@{first\_turn\_ended}}
\index{first\_turn\_ended@{first\_turn\_ended}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{first\_turn\_ended}{first\_turn\_ended}}
{\footnotesize\ttfamily bool first\+\_\+turn\+\_\+ended =false}

\mbox{\Hypertarget{initial__phase_8cpp_a1d1c0318c0f74e0cb4bb62f0af54d556}\label{initial__phase_8cpp_a1d1c0318c0f74e0cb4bb62f0af54d556}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!gripper@{gripper}}
\index{gripper@{gripper}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{gripper}{gripper}}
{\footnotesize\ttfamily bool gripper =false}

\mbox{\Hypertarget{initial__phase_8cpp_accdb2d42dce7c47aca0df1d5b3e147ec}\label{initial__phase_8cpp_accdb2d42dce7c47aca0df1d5b3e147ec}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!moved@{moved}}
\index{moved@{moved}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{moved}{moved}}
{\footnotesize\ttfamily bool moved =false}

\mbox{\Hypertarget{initial__phase_8cpp_a493c4c90ce31e7171c3dd7dd4c63577e}\label{initial__phase_8cpp_a493c4c90ce31e7171c3dd7dd4c63577e}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!new\_msg@{new\_msg}}
\index{new\_msg@{new\_msg}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{new\_msg}{new\_msg}}
{\footnotesize\ttfamily bool new\+\_\+msg =false}

\mbox{\Hypertarget{initial__phase_8cpp_a89f234133d3efe315836311cbf21c64b}\label{initial__phase_8cpp_a89f234133d3efe315836311cbf21c64b}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!state@{state}}
\index{state@{state}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily int state =0}

\mbox{\Hypertarget{initial__phase_8cpp_aa4db2a36d8a0dcd459811e0592015e85}\label{initial__phase_8cpp_aa4db2a36d8a0dcd459811e0592015e85}} 
\index{initial\_phase.cpp@{initial\_phase.cpp}!up@{up}}
\index{up@{up}!initial\_phase.cpp@{initial\_phase.cpp}}
\doxysubsubsection{\texorpdfstring{up}{up}}
{\footnotesize\ttfamily int up\mbox{[}4\mbox{]} =\{0,0,0,0\}}

